# Fiber_clusters_analysis
 Custom searching for fiber clusters
 
A fiber cluster was defined as a group of 5 and more fibers in which at least one fiber has all immediate neighbors belonging to the same fiber type. Hybrid fibers, for this purpose, were treated as fibers with two alternative fiber types, each contributing to a corresponding cluster independently. To help with searching for fiber clusters, we wrote a custom script in Python. The script relied on fiber type identity and boundary coordinates supplied by fiber composition analysis (XML and spreadsheet files). On the first step, the script determines the set of nearest neighbors for each fiber based on the euclidean distances between the geometrical centers of fibers. Only fibers with the required minimum of the same fiber type neighbors are allowed for future processing. In the second step, for each potential clustering fiber, the algorithm determines its immediate neighbors based on the minimum distances between fibers' boundaries. In the last step, the script filters out all fibers with at least one immediate neighbor with a different fiber type. Clusters' visualization is created on two passes.  On the first walk-through, the algorithm draws the contours of fibers using different colors for various fiber types. In the second pass, it goes through defined clusters and highlights all fibers which form the cluster. All script-supplied hits were subject to manual verification. The extent of fiber grouping was calculated as a ratio between fibers belonging to clusters to all analyzed fibers for each sample.
